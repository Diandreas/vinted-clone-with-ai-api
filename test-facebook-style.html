<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Style Facebook - Vinted Clone</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/@heroicons/vue@2.0.18/24/outline/index.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>

<body class="bg-gray-50">
    <div id="app">
        <div class="min-h-screen bg-gray-50">
            <!-- Products Section -->
            <div class="py-8 sm:py-12 bg-gray-50">
                <div class="max-w-4xl mx-auto px-3 sm:px-6 lg:px-8">
                    <!-- Header -->
                    <div class="text-center sm:text-left mb-8 sm:mb-12">
                        <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-3">Découvrir</h2>
                        <p class="text-lg sm:text-xl text-gray-600">Des articles uniques partagés par notre communauté
                        </p>
                    </div>

                    <!-- Filters -->
                    <div class="bg-white rounded-lg border border-gray-200 p-4 mb-6">
                        <div
                            class="flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0">
                            <!-- Search Input -->
                            <div class="flex-1 max-w-md">
                                <div class="relative">
                                    <input v-model="searchQuery" type="text" placeholder="Rechercher des produits..."
                                        class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                        </svg>
                                    </div>
                                </div>
                            </div>

                            <!-- Filters -->
                            <div class="flex items-center space-x-4">
                                <!-- Category Filter -->
                                <select v-model="selectedCategory"
                                    class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Toutes les catégories</option>
                                    <option value="1">Vêtements</option>
                                    <option value="2">Chaussures</option>
                                    <option value="3">Accessoires</option>
                                </select>

                                <!-- Sort Filter -->
                                <select v-model="selectedSort"
                                    class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="created_at">Plus récents</option>
                                    <option value="price_asc">Prix croissant</option>
                                    <option value="price_desc">Prix décroissant</option>
                                    <option value="likes_count">Plus populaires</option>
                                </select>

                                <!-- View Toggle -->
                                <div class="flex items-center bg-gray-100 rounded-lg p-1">
                                    <button @click="setViewMode('list')" :class="[
                                            'px-3 py-1 rounded-md text-sm font-medium transition-colors',
                                            viewMode === 'list' 
                                                ? 'bg-white text-gray-900 shadow-sm' 
                                                : 'text-gray-600 hover:text-gray-900'
                                        ]">
                                        Liste
                                    </button>
                                    <button @click="setViewMode('grid')" :class="[
                                            'px-3 py-1 rounded-md text-sm font-medium transition-colors',
                                            viewMode === 'grid' 
                                                ? 'bg-white text-gray-900 shadow-sm' 
                                                : 'text-gray-600 hover:text-gray-900'
                                        ]">
                                        Grille
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Products Feed -->
                    <div class="space-y-6">
                        <!-- Grid Layout -->
                        <div v-if="viewMode === 'grid' && products.length > 0"
                            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div v-for="product in products" :key="product.id"
                                class="bg-white rounded-lg border border-gray-200 hover:shadow-lg transition-all duration-200 overflow-hidden">
                                <!-- Product Image -->
                                <div class="relative">
                                    <img :src="product.main_image || '/placeholder-product.jpg'" :alt="product.title"
                                        class="w-full h-48 object-cover" />

                                    <!-- Status Badge -->
                                    <div class="absolute top-2 left-2">
                                        <span v-if="product.status === 'sold'"
                                            class="bg-red-500 text-white text-xs font-medium px-2 py-1 rounded-full shadow-sm">
                                            Vendu
                                        </span>
                                        <span v-else-if="product.status === 'reserved'"
                                            class="bg-yellow-500 text-white text-xs font-medium px-2 py-1 rounded-full shadow-sm">
                                            Réservé
                                        </span>
                                    </div>

                                    <!-- Price Badge -->
                                    <div
                                        class="absolute top-2 right-2 bg-black bg-opacity-75 backdrop-blur-sm rounded-lg px-2 py-1">
                                        <span class="text-sm font-bold text-white">{{ formatPrice(product.price)
                                            }}</span>
                                    </div>
                                </div>

                                <!-- Product Info -->
                                <div class="p-3">
                                    <h3 class="font-semibold text-gray-900 text-sm mb-2 line-clamp-2">
                                        {{ product.title }}
                                    </h3>

                                    <!-- User Info -->
                                    <div class="flex items-center space-x-2 mb-3">
                                        <div
                                            class="w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                                            <span class="text-white font-bold text-xs">
                                                {{ product.user?.name?.charAt(0)?.toUpperCase() || 'U' }}
                                            </span>
                                        </div>
                                        <span class="text-xs text-gray-600">{{ product.user?.name || 'Utilisateur'
                                            }}</span>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex items-center justify-between pt-2 border-t border-gray-100">
                                        <div class="flex items-center space-x-4">
                                            <button
                                                class="flex items-center space-x-1 text-gray-500 hover:text-red-500 transition-colors">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor"
                                                    viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                                </svg>
                                                <span class="text-xs">{{ product.likes_count || 0 }}</span>
                                            </button>

                                            <button
                                                class="flex items-center space-x-1 text-gray-500 hover:text-blue-500 transition-colors">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor"
                                                    viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                                </svg>
                                                <span class="text-xs">{{ product.comments_count || 0 }}</span>
                                            </button>
                                        </div>

                                        <button class="text-blue-600 hover:text-blue-700 text-sm font-medium">
                                            Voir
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- List Layout -->
                        <div v-else-if="viewMode === 'list' && products.length > 0" class="space-y-6">
                            <div v-for="product in products" :key="product.id"
                                class="bg-white rounded-lg border border-gray-200 hover:shadow-lg transition-all duration-200 overflow-hidden">
                                <!-- User Header -->
                                <div class="flex items-center p-3 border-b border-gray-100">
                                    <div
                                        class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mr-3">
                                        <span class="text-white font-bold text-sm">
                                            {{ product.user?.name?.charAt(0)?.toUpperCase() || 'U' }}
                                        </span>
                                    </div>
                                    <div class="flex-1">
                                        <div class="font-semibold text-gray-900 text-sm">{{ product.user?.name ||
                                            'Utilisateur' }}</div>
                                        <div class="text-xs text-gray-500">{{ formatDate(product.created_at) }}</div>
                                    </div>
                                    <button class="text-gray-400 hover:text-gray-600 p-1">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                            <path
                                                d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z" />
                                        </svg>
                                    </button>
                                </div>

                                <!-- Product Image -->
                                <div class="relative">
                                    <img :src="product.main_image || '/placeholder-product.jpg'" :alt="product.title"
                                        class="w-full h-64 object-cover" />

                                    <!-- Status Badge -->
                                    <div class="absolute top-3 left-3">
                                        <span v-if="product.status === 'sold'"
                                            class="bg-red-500 text-white text-xs font-medium px-3 py-1 rounded-full shadow-sm">
                                            Vendu
                                        </span>
                                        <span v-else-if="product.status === 'reserved'"
                                            class="bg-yellow-500 text-white text-xs font-medium px-3 py-1 rounded-full shadow-sm">
                                            Réservé
                                        </span>
                                    </div>

                                    <!-- Price Badge -->
                                    <div
                                        class="absolute top-3 right-3 bg-black bg-opacity-75 backdrop-blur-sm rounded-lg px-3 py-2">
                                        <span class="text-lg font-bold text-white">{{ formatPrice(product.price)
                                            }}</span>
                                    </div>
                                </div>

                                <!-- Product Info -->
                                <div class="p-3">
                                    <h3 class="font-semibold text-gray-900 text-base mb-2 line-clamp-2">
                                        {{ product.title }}
                                    </h3>

                                    <p v-if="product.description" class="text-sm text-gray-600 mb-3 line-clamp-2">
                                        {{ product.description }}
                                    </p>

                                    <!-- Product Details -->
                                    <div class="flex items-center justify-between mb-3">
                                        <div class="flex items-center space-x-4 text-sm text-gray-500">
                                            <span v-if="product.brand" class="flex items-center">
                                                <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                                </svg>
                                                {{ product.brand.name }}
                                            </span>
                                            <span v-if="product.category" class="flex items-center">
                                                <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                                    <path
                                                        d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z" />
                                                </svg>
                                                {{ product.category.name }}
                                            </span>
                                        </div>

                                        <div class="text-xs text-gray-400">
                                            {{ product.views_count || 0 }} vues
                                        </div>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                                        <div class="flex items-center space-x-6">
                                            <!-- Like Button -->
                                            <button
                                                class="flex items-center space-x-2 text-gray-500 hover:text-red-500 transition-colors">
                                                <svg class="w-5 h-5" fill="none" stroke="currentColor"
                                                    viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                                </svg>
                                                <span class="text-sm font-medium">{{ product.likes_count || 0 }}</span>
                                            </button>

                                            <!-- Comment Button -->
                                            <button
                                                class="flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors">
                                                <svg class="w-5 h-5" fill="none" stroke="currentColor"
                                                    viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                                </svg>
                                                <span class="text-sm font-medium">{{ product.comments_count || 0
                                                    }}</span>
                                            </button>

                                            <!-- Share Button -->
                                            <button
                                                class="flex items-center space-x-2 text-gray-500 hover:text-green-500 transition-colors">
                                                <svg class="w-5 h-5" fill="none" stroke="currentColor"
                                                    viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z" />
                                                </svg>
                                                <span class="text-sm font-medium">Partager</span>
                                            </button>
                                        </div>

                                        <!-- View Product Button -->
                                        <button
                                            class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors">
                                            Voir
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- No Products -->
                        <div v-else
                            class="bg-white rounded-xl shadow-sm border border-gray-200 p-8 sm:p-12 text-center">
                            <svg class="mx-auto h-8 w-8 sm:h-12 sm:w-12 text-gray-400" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                            </svg>
                            <h3 class="mt-2 text-sm font-medium text-gray-900">Aucun produit trouvé</h3>
                            <p class="mt-1 text-sm text-gray-500">Aucun produit ne correspond à vos critères de
                                recherche.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref } = Vue

        createApp({
            setup() {
                const searchQuery = ref('')
                const selectedCategory = ref('')
                const selectedSort = ref('created_at')
                const viewMode = ref('list')

                // Sample products data
                const products = ref([
                    {
                        id: 1,
                        title: 'Robe Mango rouge passion - Taille M',
                        description: 'Magnifique robe rouge de la marque Mango, parfaite pour les occasions spéciales. Taille M, excellent état.',
                        price: 45.00,
                        original_price: 89.99,
                        status: 'active',
                        main_image: 'https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=400&h=400&fit=crop',
                        likes_count: 12,
                        comments_count: 3,
                        views_count: 156,
                        created_at: '2024-01-15T10:30:00Z',
                        user: { name: 'Sophie Martin' },
                        brand: { name: 'Mango' },
                        category: { name: 'Vêtements' }
                    },
                    {
                        id: 2,
                        title: 'Sneakers Nike Air Max 270 - Taille 42',
                        description: 'Sneakers Nike Air Max 270 en excellent état, très confortables. Taille 42, couleur blanche.',
                        price: 75.00,
                        original_price: 150.00,
                        status: 'active',
                        main_image: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400&h=400&fit=crop',
                        likes_count: 28,
                        comments_count: 7,
                        views_count: 342,
                        created_at: '2024-01-14T15:45:00Z',
                        user: { name: 'Thomas Dubois' },
                        brand: { name: 'Nike' },
                        category: { name: 'Chaussures' }
                    },
                    {
                        id: 3,
                        title: 'Sac à main cuir marron - Vintage',
                        description: 'Superbe sac à main en cuir marron vintage, très élégant et spacieux. Parfait état.',
                        price: 120.00,
                        original_price: 250.00,
                        status: 'reserved',
                        main_image: 'https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=400&h=400&fit=crop',
                        likes_count: 45,
                        comments_count: 12,
                        views_count: 567,
                        created_at: '2024-01-13T09:20:00Z',
                        user: { name: 'Marie Claire' },
                        brand: { name: 'Vintage' },
                        category: { name: 'Accessoires' }
                    }
                ])

                const setViewMode = (mode) => {
                    viewMode.value = mode
                }

                const formatPrice = (price) => {
                    return new Intl.NumberFormat('fr-FR', {
                        style: 'currency',
                        currency: 'EUR'
                    }).format(price)
                }

                const formatDate = (dateString) => {
                    if (!dateString) return ''
                    const date = new Date(dateString)
                    const now = new Date()
                    const diffTime = Math.abs(now - date)
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))

                    if (diffDays === 1) return 'Hier'
                    if (diffDays < 7) return `Il y a ${diffDays} jours`
                    if (diffDays < 30) return `Il y a ${Math.floor(diffDays / 7)} semaines`
                    return date.toLocaleDateString('fr-FR', { day: 'numeric', month: 'short' })
                }

                return {
                    searchQuery,
                    selectedCategory,
                    selectedSort,
                    viewMode,
                    products,
                    setViewMode,
                    formatPrice,
                    formatDate
                }
            }
        }).mount('#app')
    </script>
</body>

</html>